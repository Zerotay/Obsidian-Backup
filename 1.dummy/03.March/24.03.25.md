# 파이썬 서버 설치하기
ec2에 파이썬 서버 올리기.
생각보다 도커파일을 다루는 게 잘 안 된다
poetry의 명령어를 제대로 인식하지 못하는 문제도 있는 것으로 보인다.
![[Pasted image 20240325101409.png]]
이런 식으로 다루고 있는데, 아랫줄을 실행하면 manage.py가 없다고 나오고 윗줄을 실행하면 shell이 없다고 나온다.. 뭐 어쩌라는 건지;

해결책은 찾았다. copy를 할 때 디렉토리 단위로 가져오지 않아 안 속에 파일들이 흩뿌려진 게 화근이었다.
workdir를 루트로 바꾸자 문제는 해결됐다.
![[Pasted image 20240325103747.png]]
그러나 아직 문제는 남아있다.
컨테이너 안에 들어가서 파이썬 서버가 살아있는지 확인은 충분히 가능한데, 왜 ec2 밖에서는 요청이 들어가지 못하는 걸까?
문제를 해결해나가는 과정. 기본적으로 django는 로컬호스트의 요청만 받도록 되어 있어 모든 주소에서 올 수 있도록 풀어줘야 한다. 
![[Pasted image 20240325104320.png]]
그래도 문제는 남아있다. 이러면 allowed hosts를 또 풀어줘야 한다.
실제로는 백 서버로만 쓸 거니까 우리 주소만 적어주면 될 것이라 생각된다.
